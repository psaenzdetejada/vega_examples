{
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "description": "A basic pie chart example.",
  "width": 300,
  "height": 200,
  "autosize": "none",
  "signals": [{"name": "innerRadius", "value": 100}],
  "data": [
    {
      "name": "table",
      "values": [
        {
          "id": "PP",
          "field": 29,
          "color": "blue"
        },
        {
          "id": "MM",
          "field": 12,
          "color": "green"
        },
        {
          "id": "PSOE",
          "field": 11,
          "color": "red"
        },
        {
          "id": "VOX",
          "field": 5,
          "color": "black"
        }
      ],
      "transform": [
        {
          "type": "pie",
          "field": "field",
          "startAngle": 1.5708,
          "endAngle": -1.5708,
          "sort": true
        }
      ]
    }
  ],

  "marks": [
    {
      "type": "arc",
      "from": {"data": "table"},
      "encode": {
        "enter": {
          "tooltip": {"signal": "{title: 'Escaños por partido', 'Partido': datum.id, 'Escaños': datum.field}"},
          "fill": {"field": "color"},
          "x": {"value": 150},
          "y": {"value": 200}
        },
        "update": {
          "startAngle": {"field": "startAngle"},
          "endAngle": {"field": "endAngle"},
          "innerRadius": {"signal": "innerRadius"},
          "outerRadius": {"value": 50}
        }
      }
    }
  ]
}